"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
function formatTime(date, type) {
    if (type === void 0) { type = 1; }
    var year = date.getFullYear();
    var month = date.getMonth() + 1;
    var day = date.getDate();
    var hour = date.getHours();
    var minute = date.getMinutes();
    var second = date.getSeconds();
    if (type === 1) {
        return [year, month, day].map(formatNumber).join('/') + ' ' + [hour, minute, second].map(formatNumber).join(':');
    }
    else {
        return [hour, minute, second].map(formatNumber).join(':');
    }
}
exports.formatTime = formatTime;
var formatNumber = function (n) {
    var str = n.toString();
    return str[1] ? str : '0' + str;
};
exports.transExpiresDt = function (expires) {
    return new Date().valueOf() + (expires - 5) * 1000;
};
exports.isEmpty = function (n) {
    if (Object.prototype.toString.call(n) === '[object Object]') {
        if (JSON.stringify(n) !== '{}' || Object.keys(n).length > 0)
            return false;
    }
    else if (Object.prototype.toString.call(n) === '[object Array]') {
        if (n.length > 0)
            return false;
    }
    else {
        if (n != "" && n != null && n != undefined)
            return false;
    }
    return true;
};
exports.transDistance = function (len) {
    if (!len || Math.abs(len) <= 0.000001) {
        return "0m";
    }
    if (len < 1000) {
        return len.toFixed(2) + 'm';
    }
    else {
        return (Math.round(len / 100) / 10).toFixed(1) + "km";
    }
};
exports.getPageUrl = function () {
    var pages = getCurrentPages();
    var currentPage = pages[pages.length - 1];
    return currentPage.route;
};
exports.transDate = function (date) {
    var dt = new Date(date);
    var days = parseInt(((new Date().getTime() - dt.getTime()) / 86400000).toString());
    var t_d = new Date().getDate();
    var year = dt.getFullYear();
    var month = dt.getMonth() + 1;
    var day = dt.getDate();
    var time = dt.getHours() < 10 ? "0" + dt.getHours() : dt.getHours();
    var min = dt.getMinutes() < 10 ? "0" + dt.getMinutes() : dt.getMinutes();
    var result;
    var offset = Math.abs(t_d - day);
    if (days < 4 && offset < 4) {
        if (offset === 0) {
            result = "今天" + time + ":" + min;
        }
        else if (offset === 1) {
            result = "昨天" + time + ":" + min;
        }
        else if (offset === 2) {
            result = "前天" + time + ":" + min;
        }
    }
    else {
        result = year + "-" + month + "-" + day + " " + time + ":" + min;
    }
    return result;
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXRpbC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbInV0aWwudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSxTQUFnQixVQUFVLENBQUMsSUFBVSxFQUFFLElBQVE7SUFBUixxQkFBQSxFQUFBLFFBQVE7SUFDN0MsSUFBTSxJQUFJLEdBQUcsSUFBSSxDQUFDLFdBQVcsRUFBRSxDQUFBO0lBQy9CLElBQU0sS0FBSyxHQUFHLElBQUksQ0FBQyxRQUFRLEVBQUUsR0FBRyxDQUFDLENBQUE7SUFDakMsSUFBTSxHQUFHLEdBQUcsSUFBSSxDQUFDLE9BQU8sRUFBRSxDQUFBO0lBQzFCLElBQU0sSUFBSSxHQUFHLElBQUksQ0FBQyxRQUFRLEVBQUUsQ0FBQTtJQUM1QixJQUFNLE1BQU0sR0FBRyxJQUFJLENBQUMsVUFBVSxFQUFFLENBQUE7SUFDaEMsSUFBTSxNQUFNLEdBQUcsSUFBSSxDQUFDLFVBQVUsRUFBRSxDQUFBO0lBRWhDLElBQUcsSUFBSSxLQUFLLENBQUMsRUFBRTtRQUNiLE9BQU8sQ0FBQyxJQUFJLEVBQUUsS0FBSyxFQUFFLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxZQUFZLENBQUMsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLEdBQUcsR0FBRyxHQUFHLENBQUMsSUFBSSxFQUFFLE1BQU0sRUFBRSxNQUFNLENBQUMsQ0FBQyxHQUFHLENBQUMsWUFBWSxDQUFDLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFBO0tBQ2pIO1NBQU07UUFDTCxPQUFPLENBQUMsSUFBSSxFQUFFLE1BQU0sRUFBRSxNQUFNLENBQUMsQ0FBQyxHQUFHLENBQUMsWUFBWSxDQUFDLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFBO0tBQzFEO0FBQ0gsQ0FBQztBQWJELGdDQWFDO0FBRUQsSUFBTSxZQUFZLEdBQUcsVUFBQyxDQUFTO0lBQzdCLElBQU0sR0FBRyxHQUFHLENBQUMsQ0FBQyxRQUFRLEVBQUUsQ0FBQTtJQUN4QixPQUFPLEdBQUcsQ0FB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RUFBRSxDQUFBO0lBQ25FLElBQUksR0FBRyxHQUFHLEVBQUUsQ0FBQyxVQUFVLEVBQUUsR0FBRyxFQUFFLENBQUMsQ0FBQyxDQUFDLEdBQUcsR0FBRyxFQUFFLENBQUMsVUFBVSxFQUFFLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxVQUFVLEVBQUUsQ0FBQTtJQUN4RSxJQUFJLE1BQWMsQ0FBQTtJQUNsQixJQUFLLE1BQU0sR0FBVyxJQUFJLENBQUMsR0FBRyxDQUFDLEdBQUcsR0FBRyxHQUFHLENBQUMsQ0FBQTtJQUN6QyxJQUFHLElBQUksR0FBRyxDQUFDLElBQUksTUFBTSxHQUFHLENBQUMsRUFBRTtRQUN6QixJQUFJLE1BQU0sS0FBSyxDQUFDLEVBQUU7WUFDaEIsTUFBTSxHQUFHLElBQUksR0FBRyxJQUFJLEdBQUcsR0FBRyxHQUFHLEdBQUcsQ0FBQTtTQUNqQzthQUFNLElBQUksTUFBTSxLQUFLLENBQUMsRUFBRTtZQUN2QixNQUFNLEdBQUcsSUFBSSxHQUFHLElBQUksR0FBRyxHQUFHLEdBQUcsR0FBRyxDQUFBO1NBQ2pDO2FBQU0sSUFBSSxNQUFNLEtBQUssQ0FBQyxFQUFFO1lBQ3ZCLE1BQU0sR0FBRyxJQUFJLEdBQUcsSUFBSSxHQUFHLEdBQUcsR0FBRyxHQUFHLENBQUE7U0FDakM7S0FDRjtTQUFNO1FBQ0wsTUFBTSxHQUFHLElBQUksR0FBRyxHQUFHLEdBQUcsS0FBSyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLElBQUksR0FBRyxHQUFHLEdBQUcsR0FBRyxDQUFBO0tBQ2pFO0lBQ0QsT0FBTyxNQUFNLENBQUE7QUFDZixDQUFDLENBQUEiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZnVuY3Rpb24gZm9ybWF0VGltZShkYXRlOiBEYXRlLCB0eXBlID0gMSk6IHN0cmluZyB7XG4gIGNvbnN0IHllYXIgPSBkYXRlLmdldEZ1bGxZZWFyKClcbiAgY29uc3QgbW9udGggPSBkYXRlLmdldE1vbnRoKCkgKyAxXG4gIGNvbnN0IGRheSA9IGRhdGUuZ2V0RGF0ZSgpXG4gIGNvbnN0IGhvdXIgPSBkYXRlLmdldEhvdXJzKClcbiAgY29uc3QgbWludXRlID0gZGF0ZS5nZXRNaW51dGVzKClcbiAgY29uc3Qgc2Vjb25kID0gZGF0ZS5nZXRTZWNvbmRzKClcbiAgXG4gIGlmKHR5cGUgPT09IDEpIHtcbiAgICByZXR1cm4gW3llYXIsIG1vbnRoLCBkYXldLm1hcChmb3JtYXROdW1iZXIpLmpvaW4oJy8nKSArICcgJyArIFtob3VyLCBtaW51dGUsIHNlY29uZF0ubWFwKGZvcm1hdE51bWJlcikuam9pbignOicpXG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIFtob3VyLCBtaW51dGUsIHNlY29uZF0ubWFwKGZvcm1hdE51bWJlcikuam9pbignOicpXG4gIH0gXG59XG5cbmNvbnN0IGZvcm1hdE51bWJlciA9IChuOiBudW1iZXIpID0+IHtcbiAgY29uc3Qgc3RyID0gbi50b1N0cmluZygpXG4gIHJldHVybiBzdHJbMV0gPyBzdHIgOiAnMCcgKyBzdHJcbn1cbi8vIOaXtumXtOmXtOmalFxuZXhwb3J0IGNvbnN0IHRyYW5zRXhwaXJlc0R0ID0gKGV4cGlyZXM6IG51bWJlcik6IG51bWJlciA9PntcbiAgcmV0dXJuIG5ldyBEYXRlKCkudmFsdWVPZigpICsgKGV4cGlyZXMgLSA1KSAqIDEwMDA7XG59XG5cbmV4cG9ydCBjb25zdCBpc0VtcHR5ID0gKG46IGFueSk6IGJvb2xlYW4gPT4ge1xuICBpZiAoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG4pID09PSAnW29iamVjdCBPYmplY3RdJykge1xuICAgIGlmIChKU09OLnN0cmluZ2lmeShuKSAhPT0gJ3t9JyB8fCBPYmplY3Qua2V5cyhuKS5sZW5ndGggPiAwKSByZXR1cm4gZmFsc2U7XG4gIH0gZWxzZSBpZiAoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG4pID09PSAnW29iamVjdCBBcnJheV0nKSB7XG4gICAgaWYgKG4ubGVuZ3RoID4gMCkgcmV0dXJuIGZhbHNlO1xuICB9IGVsc2Uge1xuICAgIGlmIChuICE9IFwiXCIgJiYgbiAhPSBudWxsICYmIG4gIT0gdW5kZWZpbmVkKSByZXR1cm4gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIHRydWVcbn1cbi8v5o2i566X6Led56a75L2O5LqOMTAwMOi/lOWbnuexs++8jOWQpuWImei/lOWbnuWNg+exs1xuZXhwb3J0IGNvbnN0IHRyYW5zRGlzdGFuY2UgPSAobGVuOiBudW1iZXIpOiBzdHJpbmcgPT4ge1xuICBpZiAoIWxlbiB8fCBNYXRoLmFicyhsZW4pIDw9IDAuMDAwMDAxKSB7XG4gICAgcmV0dXJuIFwiMG1cIjtcbiAgfSBcbiAgaWYgKGxlbiA8IDEwMDApIHtcbiAgICByZXR1cm4gbGVuLnRvRml4ZWQoMikgKyAnbSc7XG4gIH1cbiAgZWxzZSB7XG4gICAgcmV0dXJuIChNYXRoLnJvdW5kKGxlbiAvIDEwMCkgLyAxMCkudG9GaXhlZCgxKSArIFwia21cIlxuICB9XG59XG4vLyDojrflj5blvZPliY3pobXnmoR1cmzlnLDlnYBcbmV4cG9ydCBjb25zdCBnZXRQYWdlVXJsID0gKCkgPT4ge1xuICBsZXQgcGFnZXMgPSBnZXRDdXJyZW50UGFnZXMoKVxuICBsZXQgY3VycmVudFBhZ2UgPSBwYWdlc1twYWdlcy5sZW5ndGggLSAxXVxuICByZXR1cm4gY3VycmVudFBhZ2Uucm91dGVcbn1cblxuZXhwb3J0IGNvbnN0IHRyYW5zRGF0ZSA9IChkYXRlOiBzdHJpbmcpOiBzdHJpbmcgPT4ge1xuICBsZXQgZHQ6IERhdGUgPSBuZXcgRGF0ZShkYXRlKVxuICBsZXQgZGF5czogbnVtYmVyID0gcGFyc2VJbnQoKChuZXcgRGF0ZSgpLmdldFRpbWUoKSAtIGR0LmdldFRpbWUoKSkgLyA4NjQwMDAwMCkudG9TdHJpbmcoKSkgXG4gIGxldCB0X2Q6IG51bWJlciA9IG5ldyBEYXRlKCkuZ2V0RGF0ZSgpXG4gIGxldCB5ZWFyOiBudW1iZXIgPSBkdC5nZXRGdWxsWWVhcigpXG4gIGxldCBtb250aDogbnVtYmVyID0gZHQuZ2V0TW9udGgoKSArIDFcbiAgbGV0IGRheTogbnVtYmVyID0gZHQuZ2V0RGF0ZSgpXG4gIGxldCB0aW1lID0gZHQuZ2V0SG91cnMoKSA8IDEwID8gXCIwXCIgKyBkdC5nZXRIb3VycygpIDogZHQuZ2V0SG91cnMoKVxuICBsZXQgbWluID0gZHQuZ2V0TWludXRlcygpIDwgMTAgPyBcIjBcIiArIGR0LmdldE1pbnV0ZXMoKSA6IGR0LmdldE1pbnV0ZXMoKVxuICBsZXQgcmVzdWx0OiBzdHJpbmdcbiAgbGV0ICBvZmZzZXQ6IG51bWJlciA9IE1hdGguYWJzKHRfZCAtIGRheSlcbiAgaWYoZGF5cyA8IDQgJiYgb2Zmc2V0IDwgNCkge1xuICAgIGlmIChvZmZzZXQgPT09IDApIHtcbiAgICAgIHJlc3VsdCA9IFwi5LuK5aSpXCIgKyB0aW1lICsgXCI6XCIgKyBtaW5cbiAgICB9IGVsc2UgaWYgKG9mZnNldCA9PT0gMSkge1xuICAgICAgcmVzdWx0ID0gXCLmmKjlpKlcIiArIHRpbWUgKyBcIjpcIiArIG1pblxuICAgIH0gZWxzZSBpZiAob2Zmc2V0ID09PSAyKSB7XG4gICAgICByZXN1bHQgPSBcIuWJjeWkqVwiICsgdGltZSArIFwiOlwiICsgbWluXG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHJlc3VsdCA9IHllYXIgKyBcIi1cIiArIG1vbnRoICsgXCItXCIgKyBkYXkgKyBcIiBcIiArIHRpbWUgKyBcIjpcIiArIG1pblxuICB9XG4gIHJldHVybiByZXN1bHRcbn1cbiJdfQ==