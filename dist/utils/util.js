"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
function formatTime(date, type) {
    if (type === void 0) { type = 1; }
    var year = date.getFullYear();
    var month = date.getMonth() + 1;
    var day = date.getDate();
    var hour = date.getHours();
    var minute = date.getMinutes();
    var second = date.getSeconds();
    if (type === 1) {
        return [year, month, day].map(formatNumber).join('/') + ' ' + [hour, minute, second].map(formatNumber).join(':');
    }
    else {
        return [hour, minute, second].map(formatNumber).join(':');
    }
}
exports.formatTime = formatTime;
var formatNumber = function (n) {
    var str = n.toString();
    return str[1] ? str : '0' + str;
};
exports.transExpiresDt = function (expires) {
    return new Date().valueOf() + (expires - 5) * 1000;
};
exports.isEmpty = function (n) {
    if (Object.prototype.toString.call(n) === '[object Object]') {
        if (JSON.stringify(n) !== '{}' || Object.keys(n).length > 0)
            return false;
    }
    else if (Object.prototype.toString.call(n) === '[object Array]') {
        if (n.length > 0)
            return false;
    }
    else {
        if (n != "" && n != null && n != undefined)
            return false;
    }
    return true;
};
exports.transDistance = function (len) {
    if (!len || Math.abs(len) <= 0.000001) {
        return "0m";
    }
    if (len < 1000) {
        return len.toFixed(2) + 'm';
    }
    else {
        return (Math.round(len / 100) / 10).toFixed(1) + "km";
    }
};
exports.getPageUrl = function () {
    var pages = getCurrentPages();
    var currentPage = pages[pages.length - 1];
    return currentPage.route;
};
exports.transDate = function (date) {
    var dt = new Date(date);
    var days = parseInt(((new Date().getTime() - dt.getTime()) / 86400000).toString());
    var t_d = new Date().getDate();
    var year = dt.getFullYear();
    var month = dt.getMonth() + 1;
    var day = dt.getDate();
    var time = dt.getHours() < 10 ? "0" + dt.getHours() : dt.getHours();
    var min = dt.getMinutes() < 10 ? "0" + dt.getMinutes() : dt.getMinutes();
    var result;
    var offset = Math.abs(t_d - day);
    if (days < 4 && offset < 4) {
        if (offset === 0) {
            result = "今天" + time + ":" + min;
        }
        else if (offset === 1) {
            result = "昨天" + time + ":" + min;
        }
        else if (offset === 2) {
            result = "前天" + time + ":" + min;
        }
    }
    else {
        result = year + "-" + month + "-" + day + " " + time + ":" + min;
    }
    return result;
};

//# sourceMappingURL=data:application/json;charset=utf8;base64,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QUFHLEVBQUUsQ0FBQyxVQUFVLEVBQUUsR0FBRyxFQUFFLENBQUMsQ0FBQyxDQUFDLEdBQUcsR0FBRyxFQUFFLENBQUMsVUFBVSxFQUFFLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxVQUFVLEVBQUUsQ0FBQTtJQUN4RSxJQUFJLE1BQWMsQ0FBQTtJQUNsQixJQUFLLE1BQU0sR0FBVyxJQUFJLENBQUMsR0FBRyxDQUFDLEdBQUcsR0FBRyxHQUFHLENBQUMsQ0FBQTtJQUN6QyxJQUFHLElBQUksR0FBRyxDQUFDLElBQUksTUFBTSxHQUFHLENBQUMsRUFBRTtRQUN6QixJQUFJLE1BQU0sS0FBSyxDQUFDLEVBQUU7WUFDaEIsTUFBTSxHQUFHLElBQUksR0FBRyxJQUFJLEdBQUcsR0FBRyxHQUFHLEdBQUcsQ0FBQTtTQUNqQzthQUFNLElBQUksTUFBTSxLQUFLLENBQUMsRUFBRTtZQUN2QixNQUFNLEdBQUcsSUFBSSxHQUFHLElBQUksR0FBRyxHQUFHLEdBQUcsR0FBRyxDQUFBO1NBQ2pDO2FBQU0sSUFBSSxNQUFNLEtBQUssQ0FBQyxFQUFFO1lBQ3ZCLE1BQU0sR0FBRyxJQUFJLEdBQUcsSUFBSSxHQUFHLEdBQUcsR0FBRyxHQUFHLENBQUE7U0FDakM7S0FDRjtTQUFNO1FBQ0wsTUFBTSxHQUFHLElBQUksR0FBRyxHQUFHLEdBQUcsS0FBSyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLElBQUksR0FBRyxHQUFHLEdBQUcsR0FBRyxDQUFBO0tBQ2pFO0lBQ0QsT0FBTyxNQUFNLENBQUE7QUFDZixDQUFDLENBQUEiLCJmaWxlIjoidXRpbHMvdXRpbC5qcyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBmdW5jdGlvbiBmb3JtYXRUaW1lKGRhdGU6IERhdGUsIHR5cGUgPSAxKTogc3RyaW5nIHtcbiAgY29uc3QgeWVhciA9IGRhdGUuZ2V0RnVsbFllYXIoKVxuICBjb25zdCBtb250aCA9IGRhdGUuZ2V0TW9udGgoKSArIDFcbiAgY29uc3QgZGF5ID0gZGF0ZS5nZXREYXRlKClcbiAgY29uc3QgaG91ciA9IGRhdGUuZ2V0SG91cnMoKVxuICBjb25zdCBtaW51dGUgPSBkYXRlLmdldE1pbnV0ZXMoKVxuICBjb25zdCBzZWNvbmQgPSBkYXRlLmdldFNlY29uZHMoKVxuICBcbiAgaWYodHlwZSA9PT0gMSkge1xuICAgIHJldHVybiBbeWVhciwgbW9udGgsIGRheV0ubWFwKGZvcm1hdE51bWJlcikuam9pbignLycpICsgJyAnICsgW2hvdXIsIG1pbnV0ZSwgc2Vjb25kXS5tYXAoZm9ybWF0TnVtYmVyKS5qb2luKCc6JylcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gW2hvdXIsIG1pbnV0ZSwgc2Vjb25kXS5tYXAoZm9ybWF0TnVtYmVyKS5qb2luKCc6JylcbiAgfSBcbn1cblxuY29uc3QgZm9ybWF0TnVtYmVyID0gKG46IG51bWJlcikgPT4ge1xuICBjb25zdCBzdHIgPSBuLnRvU3RyaW5nKClcbiAgcmV0dXJuIHN0clsxXSA/IHN0ciA6ICcwJyArIHN0clxufVxuLy8g5pe26Ze06Ze06ZqUXG5leHBvcnQgY29uc3QgdHJhbnNFeHBpcmVzRHQgPSAoZXhwaXJlczogbnVtYmVyKTogbnVtYmVyID0+e1xuICByZXR1cm4gbmV3IERhdGUoKS52YWx1ZU9mKCkgKyAoZXhwaXJlcyAtIDUpICogMTAwMDtcbn1cblxuZXhwb3J0IGNvbnN0IGlzRW1wdHkgPSAobjogYW55KTogYm9vbGVhbiA9PiB7XG4gIGlmIChPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobikgPT09ICdbb2JqZWN0IE9iamVjdF0nKSB7XG4gICAgaWYgKEpTT04uc3RyaW5naWZ5KG4pICE9PSAne30nIHx8IE9iamVjdC5rZXlzKG4pLmxlbmd0aCA+IDApIHJldHVybiBmYWxzZTtcbiAgfSBlbHNlIGlmIChPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobikgPT09ICdbb2JqZWN0IEFycmF5XScpIHtcbiAgICBpZiAobi5sZW5ndGggPiAwKSByZXR1cm4gZmFsc2U7XG4gIH0gZWxzZSB7XG4gICAgaWYgKG4gIT0gXCJcIiAmJiBuICE9IG51bGwgJiYgbiAhPSB1bmRlZmluZWQpIHJldHVybiBmYWxzZTtcbiAgfVxuICByZXR1cm4gdHJ1ZVxufVxuLy/mjaLnrpfot53nprvkvY7kuo4xMDAw6L+U5Zue57Gz77yM5ZCm5YiZ6L+U5Zue5Y2D57GzXG5leHBvcnQgY29uc3QgdHJhbnNEaXN0YW5jZSA9IChsZW46IG51bWJlcik6IHN0cmluZyA9PiB7XG4gIGlmICghbGVuIHx8IE1hdGguYWJzKGxlbikgPD0gMC4wMDAwMDEpIHtcbiAgICByZXR1cm4gXCIwbVwiO1xuICB9IFxuICBpZiAobGVuIDwgMTAwMCkge1xuICAgIHJldHVybiBsZW4udG9GaXhlZCgyKSArICdtJztcbiAgfVxuICBlbHNlIHtcbiAgICByZXR1cm4gKE1hdGgucm91bmQobGVuIC8gMTAwKSAvIDEwKS50b0ZpeGVkKDEpICsgXCJrbVwiXG4gIH1cbn1cbi8vIOiOt+WPluW9k+WJjemhteeahHVybOWcsOWdgFxuZXhwb3J0IGNvbnN0IGdldFBhZ2VVcmwgPSAoKSA9PiB7XG4gIGxldCBwYWdlcyA9IGdldEN1cnJlbnRQYWdlcygpXG4gIGxldCBjdXJyZW50UGFnZSA9IHBhZ2VzW3BhZ2VzLmxlbmd0aCAtIDFdXG4gIHJldHVybiBjdXJyZW50UGFnZS5yb3V0ZVxufVxuXG5leHBvcnQgY29uc3QgdHJhbnNEYXRlID0gKGRhdGU6IHN0cmluZyk6IHN0cmluZyA9PiB7XG4gIGxldCBkdDogRGF0ZSA9IG5ldyBEYXRlKGRhdGUpXG4gIGxldCBkYXlzOiBudW1iZXIgPSBwYXJzZUludCgoKG5ldyBEYXRlKCkuZ2V0VGltZSgpIC0gZHQuZ2V0VGltZSgpKSAvIDg2NDAwMDAwKS50b1N0cmluZygpKSBcbiAgbGV0IHRfZDogbnVtYmVyID0gbmV3IERhdGUoKS5nZXREYXRlKClcbiAgbGV0IHllYXI6IG51bWJlciA9IGR0LmdldEZ1bGxZZWFyKClcbiAgbGV0IG1vbnRoOiBudW1iZXIgPSBkdC5nZXRNb250aCgpICsgMVxuICBsZXQgZGF5OiBudW1iZXIgPSBkdC5nZXREYXRlKClcbiAgbGV0IHRpbWUgPSBkdC5nZXRIb3VycygpIDwgMTAgPyBcIjBcIiArIGR0LmdldEhvdXJzKCkgOiBkdC5nZXRIb3VycygpXG4gIGxldCBtaW4gPSBkdC5nZXRNaW51dGVzKCkgPCAxMCA/IFwiMFwiICsgZHQuZ2V0TWludXRlcygpIDogZHQuZ2V0TWludXRlcygpXG4gIGxldCByZXN1bHQ6IHN0cmluZ1xuICBsZXQgIG9mZnNldDogbnVtYmVyID0gTWF0aC5hYnModF9kIC0gZGF5KVxuICBpZihkYXlzIDwgNCAmJiBvZmZzZXQgPCA0KSB7XG4gICAgaWYgKG9mZnNldCA9PT0gMCkge1xuICAgICAgcmVzdWx0ID0gXCLku4rlpKlcIiArIHRpbWUgKyBcIjpcIiArIG1pblxuICAgIH0gZWxzZSBpZiAob2Zmc2V0ID09PSAxKSB7XG4gICAgICByZXN1bHQgPSBcIuaYqOWkqVwiICsgdGltZSArIFwiOlwiICsgbWluXG4gICAgfSBlbHNlIGlmIChvZmZzZXQgPT09IDIpIHtcbiAgICAgIHJlc3VsdCA9IFwi5YmN5aSpXCIgKyB0aW1lICsgXCI6XCIgKyBtaW5cbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgcmVzdWx0ID0geWVhciArIFwiLVwiICsgbW9udGggKyBcIi1cIiArIGRheSArIFwiIFwiICsgdGltZSArIFwiOlwiICsgbWluXG4gIH1cbiAgcmV0dXJuIHJlc3VsdFxufVxuIl19
